<script>
  // Event delegation for performance and dynamic content support
  document.addEventListener('mousemove', (e) => {
    const target = (e.target as Element).closest('.spotlight-card');
    if (target) {
      const rect = target.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      (target as HTMLElement).style.setProperty('--mouse-x', `${x}px`);
      (target as HTMLElement).style.setProperty('--mouse-y', `${y}px`);
    }
  });
</script>

<style is:global>
  .spotlight-card {
    position: relative;
    /* Ensure overflow is handled by the component itself if needed, 
       but usually we want the spotlight to be clipped by the card border */
    overflow: hidden; 
  }
  
  .spotlight-card::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    /* Gradient spotlight effect */
    background: radial-gradient(
      600px circle at var(--mouse-x, 0px) var(--mouse-y, 0px), 
      var(--color-accent-light), 
      transparent 40%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    z-index: 2; /* Ensure it's above background but below content if z-index is managed */
  }
  
  .spotlight-card:hover::before {
    opacity: 0.15;
  }
</style>
