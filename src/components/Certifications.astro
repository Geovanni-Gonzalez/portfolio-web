---
import SectionTitle from "./SectionTitle.astro";
import GradientTitle from "./GradientTitle.astro";
import { Icon } from "astro-iconify";
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import TimelineItem from "./TimelineItem.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

import educationData from "../data/education.json";

const certifications = educationData.certifications.map((cert: any) => ({
  ...cert,
  description: t(cert.descriptionKey as any),
}));
---

<section
  id="certifications"
  class="max-w-5xl mx-auto py-16 sm:py-20 px-4 sm:px-6 lg:px-8"
  data-aos="fade-up"
  data-aos-duration="1000"
>
  <GradientTitle title={t("certifications.title")} />

  <div
    class="bg-[var(--color-card-bg)] backdrop-blur-2xl border border-[var(--color-border)] rounded-3xl p-6 sm:p-10 shadow-2xl relative overflow-hidden group hover:border-orange-500/20 transition-colors duration-500"
  >
    <!-- Decorative Glow -->
    <div
      class="absolute top-0 right-0 w-96 h-96 bg-orange-500/5 rounded-full blur-[100px] pointer-events-none group-hover:bg-orange-500/10 transition-colors duration-500"
    >
    </div>

    <div class="relative z-10 w-full pl-2 sm:pl-4">
      {
        certifications.map(({ title, issuer, date, description, pdfPath, icon }, index) => (
          <TimelineItem
            title={title}
            subtitle={issuer}
            date={date}
            description={description}
            icon={icon}
            link={pdfPath}
            linkText={t("certifications.viewOnline")}
            isLast={index === certifications.length - 1}
          />
        ))
      }
    </div>
  </div>
</section>
