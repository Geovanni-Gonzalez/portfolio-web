---
import SectionTitle from './SectionTitle.astro';
import { Icon } from 'astro-iconify';
import { getLangFromUrl, useTranslations } from '../i18n/utils';
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const certifications = [
    {
        title: 'PCAP: Programming Essentials in Python',
        issuer: 'Cisco Networking Academy',
        date: '30/12/2022',
        description: t('certifications.pythonCertification.description'),
        link: '',
        pdfPath: '/certificates/PCAP-Programming_Essentials_in_Python_certificate.pdf'
    },

    {
        title: 'AWS Certified Solutions Architect – Associate',
        issuer: 'Amazon Web Services',
        date: '08/08/2024',
        description: t('certifications.awsCertification.description'),
        link: '',
        pdfPath: '/certificates/AWS Course Completion Certificate.pdf'
    },

    {
        title: 'EF SET English Certificate',
        issuer: 'EF Education First',
        date: '18/10/2024',
        description: t('certifications.efset.description'),
        link: '',
        pdfPath: '/certificates/EF SET Certificate.pdf'
    },

    {
        title: 'Inteligencia artificial',
        issuer: 'Structuralia',
        date: '05/08/2023',
        description: t('certifications.ia.description'),
        link: '',
        pdfPath: '/certificates/Inteligencia_artificial.pdf'
    }
];
---

<section id="certifications" class="mt-8 w-full">
    <SectionTitle title={t('certifications.title')} />

    <div class="mt-8 space-y-6 sm:space-y-8 md:space-y-10 w-full">
        {certifications.map(({ title, issuer, date, description, link, pdfPath }) => (
            <article class="bg-zinc-800/70 border border-zinc-700 p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-xl text-white transition-all duration-300 transform hover:scale-[1.01] hover:border-red-500 hover:shadow-red-500/30">
                
                {/* Encabezado */}
                <header class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-2">
                    <div class="flex items-center gap-2 sm:gap-3">
                        <Icon name="ph:certificate-fill" class="w-5 h-5 sm:w-6 sm:h-6 text-orange-400" />
                        <h3 class="text-lg sm:text-xl font-bold bg-gradient-to-r from-orange-400 via-yellow-400 to-orange-600 bg-clip-text text-transparent drop-shadow-lg break-words">
                            {title}
                        </h3>
                    </div>
                    <time class="text-xs sm:text-sm text-zinc-400 sm:ml-auto">{date}</time>
                </header>

                {/* Emisor */}
                <p class="text-xs sm:text-sm text-zinc-400 mt-1 italic font-medium break-words">{issuer}</p>

                {/* Descripción */}
                <p class="mt-3 sm:mt-4 text-zinc-300 text-sm sm:text-base leading-relaxed font-light tracking-wide break-words">
                    {description}
                </p>

                {/* Botón */}
                <div class="mt-4">
                    {(link || pdfPath) && (
                        <a
                            href={link || pdfPath}
                            target="_blank"
                            rel="noopener noreferrer"
                            class="inline-flex items-center gap-2 text-orange-200 font-semibold hover:text-yellow-300 transition-colors"
                        >
                            <Icon name="mdi:link-variant" class="w-4 h-4" />
                            {t('certifications.viewOnline')}
                        </a>
                    )}
                </div>
            </article>
        ))}
    </div>
</section>
