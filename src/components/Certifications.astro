---
import SectionTitle from './SectionTitle.astro';
import { Icon } from 'astro-iconify';
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import TimelineItem from './TimelineItem.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const certifications = [
    {
        title: 'PCAP: Programming Essentials in Python',
        issuer: 'Cisco Networking Academy',
        date: '30/12/2022',
        description: t('certifications.pythonCertification.description'),
        link: '',
        pdfPath: '/certificates/PCAP-Programming_Essentials_in_Python_certificate.pdf'
    },

    {
        title: 'AWS Certified Solutions Architect â€“ Associate',
        issuer: 'Amazon Web Services',
        date: '08/08/2024',
        description: t('certifications.awsCertification.description'),
        link: '',
        pdfPath: '/certificates/AWS Course Completion Certificate.pdf'
    },

    {
        title: 'EF SET English Certificate',
        issuer: 'EF Education First',
        date: '18/10/2024',
        description: t('certifications.efset.description'),
        link: '',
        pdfPath: '/certificates/EF SET Certificate.pdf'
    },

    {
        title: 'Inteligencia artificial',
        issuer: 'Structuralia',
        date: '05/08/2023',
        description: t('certifications.ia.description'),
        link: '',
        pdfPath: '/certificates/Inteligencia_artificial.pdf'
    }
];
---

<section id="certifications" class="mt-16 w-full">
    <h2 class="text-xl sm:text-2xl md:text-3xl font-bold text-white text-left mb-8 sm:mb-12 pl-4 border-l-4 border-orange-500">
        {t('certifications.title')}
    </h2>

    <div class="w-full pl-2 sm:pl-4">
        {certifications.map(({ title, issuer, date, description, link, pdfPath }, index) => (
            <TimelineItem 
                title={title}
                subtitle={issuer}
                date={date}
                description={description}
                icon="ph:certificate-fill"
                link={link || pdfPath}
                linkText={t('certifications.viewOnline')}
                isLast={index === certifications.length - 1}
            />
        ))}
    </div>
</section>
