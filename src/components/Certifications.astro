---
import SectionTitle from './SectionTitle.astro';
import { Icon } from 'astro-iconify';
import { getLangFromUrl, useTranslations } from '../i18n/utils';
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const certifications = [
  {
    title: 'PCAP: Programming Essentials in Python',
    issuer: 'Cisco Networking Academy',
    date: '30/12/2022',
    description: t('certifications.pythonCertification.description'),
    link: '',
    pdfPath: '/certificates/PCAP-Programming_Essentials_in_Python_certificate.pdf'
  }
];
---

<section id="certifications" class="mt-20 space-y-12">
  <SectionTitle title={t('certifications.title')} />

  {certifications.map(({ title, issuer, date, description, link, pdfPath }) => (
    <article class="bg-zinc-800/70 border border-zinc-700 p-6 rounded-2xl shadow-xl text-white transition-all hover:border-cyan-500 hover:shadow-cyan-500/30">
      <header class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2">
        <h3 class="text-xl font-bold flex items-center gap-2 text-cyan-400">
          <Icon name="ph:certificate-fill" class="w-6 h-6 text-cyan-400" />
          {title}
        </h3>
        <time class="text-sm text-zinc-400">{date}</time>
      </header>

      <p class="text-sm text-zinc-400 mt-1 italic">{issuer}</p>

      <p class="mt-4 text-zinc-200 leading-relaxed">{description}</p>

      {link ? (
        <a
          href={link}
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 mt-4 text-cyan-300 font-medium hover:text-cyan-500 transition-colors"
        >
          <Icon name="mdi:link-variant" class="w-4 h-4" />
          {t('certifications.viewOnline')}
        </a>
      ) : pdfPath ? (
        <a
          href={pdfPath}
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 mt-4 text-cyan-300 font-medium hover:text-cyan-500 transition-colors"
        >
          <Icon name="mdi:link-variant" class="w-4 h-4" />
          {t('certifications.viewOnline')}
        </a>
      ) : null}
    </article>
  ))}
</section>
