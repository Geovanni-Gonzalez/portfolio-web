---
// components/About.astro
import SectionTitle from './SectionTitle.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import { Icon } from 'astro-iconify';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const profileImage = "/images/profile.jpg";
const cvFile = "/documents/CV.pdf";
---

<section id="about" class="relative px-6 py-16 mx-auto max-w-7xl animate-fade-in">
  <!-- Contenedor principal con borde animado -->
  <div class="relative rounded-2xl p-8 grid grid-cols-1 md:grid-cols-3 gap-8 items-center text-white 
              bg-zinc-900/60 backdrop-blur-lg shadow-xl
              transition-all duration-500 hover:shadow-[0_0_30px_rgba(255,200,0,0.4)] hover:scale-[1.01]
              overflow-hidden group">
    
    <!-- Efecto de borde brillante -->
    <span class="absolute inset-0 rounded-2xl bg-gradient-to-br from-orange-400 via-yellow-300 to-red-400 
                  opacity-10 blur-2xl group-hover:opacity-20 transition-all duration-700"></span>

    <!-- Imagen de perfil con halo -->
    <div class="flex justify-center relative">
      <div class="relative w-56 h-56 rounded-full overflow-hidden 
                  bg-gradient-to-br from-orange-500/30 to-purple-500/10 shadow-lg border border-white/20
                  before:content-[''] before:absolute before:inset-0 before:rounded-full 
                  before:bg-gradient-to-r before:from-orange-400/20 before:via-yellow-200/10 before:to-red-400/20
                  before:blur-xl before:animate-pulse">
        <img 
          src={profileImage}
          alt="Foto de perfil"
          class="w-full h-full object-cover rounded-full transition-transform duration-300 hover:scale-105"
        />
      </div>
    </div>

    <!-- Texto descriptivo -->
    <div class="md:col-span-2 relative z-10">
      <SectionTitle title={t('about.title')} icon="mdi:account-circle" />

      <p class="text-lg leading-relaxed mt-6">
        {t('about.description-1')}
      </p>

      <p class="text-lg leading-relaxed mt-4">
        {t('about.description-2')}  
      </p>

      <!-- BotÃ³n elegante -->
      <div class="mt-8 flex justify-center md:justify-start">
        <a
          href={cvFile}
          download
          class="relative inline-flex items-center gap-3 px-7 py-3 rounded-2xl 
                 bg-white/10 backdrop-blur-lg border border-white/20 text-white font-semibold 
                 shadow-[0_0_15px_rgba(255,255,255,0.1)] transition-all duration-500
                 hover:scale-105 hover:shadow-[0_0_20px_rgba(255,200,0,0.6)] 
                 overflow-hidden group"
        >
          <!-- Efecto shimmer -->
          <span class="absolute inset-0 rounded-2xl bg-gradient-to-r from-orange-400 via-yellow-300 to-red-400 
                        opacity-20 group-hover:opacity-40 blur-lg animate-pulse"></span>

          <!-- Brillo animado -->
          <span class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent 
                        translate-x-[-100%] group-hover:translate-x-[100%] 
                        transition-transform duration-[1500ms] ease-out"></span>

          <Icon name="mdi:file-download" class="w-6 h-6 relative z-10 drop-shadow" />
          <span class="ml-2 relative z-10">{t('about.cvDownload')}</span>
        </a>
      </div>
    </div>
  </div>
</section>
